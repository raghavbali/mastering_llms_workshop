<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Training Lifecycle - 2024 Edition</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main class="container py-16">
        <!-- Header will be populated by JavaScript -->
        <header class="text-center mb-16" id="header-section">
        </header>

        <!-- Summary Diagram will be populated by JavaScript -->
        <section class="summary-section mb-16" id="summary-section">
        </section>

        <!-- Detailed Phases will be populated by JavaScript -->
        <section class="phases-section" id="phases-section">
        </section>

        <!-- Timeline will be populated by JavaScript -->
        <section class="timeline-section mt-16" id="timeline-section">
        </section>
    </main>

    <script>
        // JSON Configuration Object - Update this to modify content
        const LLM_LIFECYCLE_CONFIG = {
            // Page Header Configuration
            header: {
                title: "Large Language Model Training Lifecycle",
                subtitle: "Complete overview of modern LLM training methods and approaches (2024)",
                themeToggle: {
                    text: "üåì Toggle Theme",
                    id: "themeToggle"
                }
            },

            // Summary Pipeline Configuration
            summary: {
                title: "üìä Training Pipeline Overview",
                stages: [
                    {
                        id: "pretraining",
                        icon: "ü§ñ",
                        text: "Pre-training"
                    },
                    {
                        id: "branching",
                        icon: "üîÄ",
                        text: "Post-Training Paths",
                        special: "branching-box"
                    },
                    {
                        id: "branches",
                        type: "branch-group",
                        stages: [
                            {
                                id: "task-specific",
                                icon: "üéØ",
                                text: "Task-Specific Fine-tuning"
                            },
                            {
                                id: "instruction",
                                icon: "üìù",
                                text: "Instruction Tuning"
                            }
                        ]
                    },
                    {
                        id: "alignment",
                        icon: "‚öñÔ∏è",
                        text: "Alignment Methods"
                    },
                    {
                        id: "production",
                        icon: "üöÄ",
                        text: "Production Model"
                    }
                ]
            },

            // Detailed Phases Configuration
            phases: {
                title: "<br/>üîç Detailed Training Phases",
                phases: [
                    {
                        id: "pretraining",
                        title: "ü§ñ Phase 1: Pre-training",
                        badge: {
                            text: "Foundation",
                            class: "foundation"
                        },
                        info: [
                            {
                                label: "üì• Input:",
                                value: "Raw internet text (10T+ tokens)"
                            },
                            {
                                label: "üì§ Output:",
                                value: "Base language model with general understanding"
                            },
                            {
                                label: "‚è±Ô∏è Time:",
                                value: "3 months (90-100 days)"
                            },
                            {
                                label: "üñ•Ô∏è Compute:",
                                value: "25,000 NVIDIA A100 GPUs"
                            },
                            {
                                label: "üéØ Objective:",
                                value: "Learn fundamental language patterns through next-token prediction"
                            }
                        ]
                    },
                    {
                        id: "branching",
                        title: "üîÄ Phase 2: Post-Pre-training Branching",
                        badge: {
                            text: "Decision Point",
                            class: "branching"
                        },
                        description: "After pre-training, models can follow two main paths based on the intended use case:",
                        branches: [
                            {
                                title: "üéØ Path A: Task-Specific Fine-tuning",
                                class: "task-specific",
                                info: [
                                    {
                                        label: "üì• Input:",
                                        value: "Task-specific labeled data (1K-100K examples)"
                                    },
                                    {
                                        label: "üì§ Output:",
                                        value: "Specialized Models/Task-Tuned Models for classification, Q&A, summarization, etc."
                                    },
                                    {
                                        label: "‚è±Ô∏è Time:",
                                        value: "1-2 weeks"
                                    },
                                    {
                                        label: "üñ•Ô∏è Compute:",
                                        value: "100+ GPUs"
                                    },
                                    {
                                        label: "üéØ Objective:",
                                        value: "Adapt for specific downstream tasks"
                                    },
                                    {
                                        label: "üìã Examples:",
                                        value: "Text classification, sentiment analysis, question answering, translation, summarization"
                                    }
                                ]
                            },
                            {
                                title: "üìù Path B: Instruction Tuning Path",
                                steps: [
                                    {
                                        title: "üìö Step 1: Supervised Fine-tuning (SFT)",
                                        class: "instruction-sft",
                                        info: [
                                            {
                                                label: "üì• Input:",
                                                value: "Instruction-response pairs (10K-100K examples)"
                                            },
                                            {
                                                label: "üì§ Output:",
                                                value: "Instruction-following model"
                                            },
                                            {
                                                label: "‚è±Ô∏è Time:",
                                                value: "1-2 weeks"
                                            },
                                            {
                                                label: "üñ•Ô∏è Compute:",
                                                value: "1000-10,000 GPUs"
                                            },
                                            {
                                                label: "üéØ Objective:",
                                                value: "Teach model to follow general instructions"
                                            }
                                        ]
                                    },
                                    {
                                        title: "‚öñÔ∏è Step 2: Alignment Methods",
                                        hasMethodTabs: true,
                                        methods: [
                                            {
                                                id: "rlhf",
                                                name: "RLHF",
                                                fullName: "RLHF (Reinforcement Learning from Human Feedback)",
                                                year: "2022",
                                                complexity: "high",
                                                complexityText: "High Complexity",
                                                class: "rlhf",
                                                active: true,
                                                info: [
                                                    {
                                                        label: "üì• Input:",
                                                        value: "Human preference rankings (1K-10K pairs)"
                                                    },
                                                    {
                                                        label: "üîÑ Process:",
                                                        value: "3-stage (SFT ‚Üí Reward Model ‚Üí PPO)"
                                                    },
                                                    {
                                                        label: "‚úÖ Pros:",
                                                        value: "Human-aligned responses, proven effectiveness"
                                                    },
                                                    {
                                                        label: "‚ùå Cons:",
                                                        value: "Complex, expensive, requires human feedback"
                                                    }
                                                ]
                                            },
                                            {
                                                id: "dpo",
                                                name: "DPO",
                                                fullName: "DPO (Direct Preference Optimization)",
                                                year: "2023",
                                                complexity: "medium",
                                                complexityText: "Medium Complexity",
                                                class: "dpo",
                                                info: [
                                                    {
                                                        label: "üì• Input:",
                                                        value: "Preference pairs (chosen/rejected)"
                                                    },
                                                    {
                                                        label: "üîÑ Process:",
                                                        value: "2-stage (SFT ‚Üí Direct optimization)"
                                                    },
                                                    {
                                                        label: "‚úÖ Pros:",
                                                        value: "Simpler than RLHF, no reward model needed"
                                                    },
                                                    {
                                                        label: "‚ùå Cons:",
                                                        value: "Still requires preference data"
                                                    }
                                                ]
                                            },
                                            {
                                                id: "orpo",
                                                name: "ORPO",
                                                fullName: "ORPO (Odds Ratio Preference Optimization)",
                                                year: "2024",
                                                yearClass: "new",
                                                complexity: "low",
                                                complexityText: "Low Complexity",
                                                class: "orpo",
                                                info: [
                                                    {
                                                        label: "üì• Input:",
                                                        value: "Preference pairs"
                                                    },
                                                    {
                                                        label: "üîÑ Process:",
                                                        value: "1-stage (combines SFT and alignment)"
                                                    },
                                                    {
                                                        label: "‚úÖ Pros:",
                                                        value: "Single-step process, no reference model needed"
                                                    },
                                                    {
                                                        label: "‚ùå Cons:",
                                                        value: "Newer method, less tested"
                                                    }
                                                ]
                                            },
                                            {
                                                id: "rlaif",
                                                name: "RLAIF",
                                                fullName: "RLAIF (Reinforcement Learning from AI Feedback)",
                                                year: "2023",
                                                complexity: "medium",
                                                complexityText: "Medium Complexity",
                                                class: "rlaif",
                                                info: [
                                                    {
                                                        label: "üì• Input:",
                                                        value: "AI-generated feedback"
                                                    },
                                                    {
                                                        label: "üîÑ Process:",
                                                        value: "Similar to RLHF but with AI feedback"
                                                    },
                                                    {
                                                        label: "‚úÖ Pros:",
                                                        value: "Scalable, no human feedback needed"
                                                    },
                                                    {
                                                        label: "‚ùå Cons:",
                                                        value: "Dependent on AI evaluator quality"
                                                    }
                                                ]
                                            },
                                            {
                                                id: "constitutional",
                                                name: "Constitutional",
                                                fullName: "Constitutional AI",
                                                year: "2022",
                                                complexity: "medium",
                                                complexityText: "Medium Complexity",
                                                class: "constitutional",
                                                info: [
                                                    {
                                                        label: "üì• Input:",
                                                        value: "Self-critique with constitution rules"
                                                    },
                                                    {
                                                        label: "üîÑ Process:",
                                                        value: "2-stage (Self-improvement ‚Üí RL with AI feedback)"
                                                    },
                                                    {
                                                        label: "‚úÖ Pros:",
                                                        value: "Transparent principles, self-supervised"
                                                    },
                                                    {
                                                        label: "‚ùå Cons:",
                                                        value: "Rule design required"
                                                    }
                                                ]
                                            },
                                            {
                                                id: "grpo",
                                                name: "GRPO",
                                                fullName: "Group Relative Policy Optimization",
                                                year: "2025",
                                                complexity: "high",
                                                complexityText: "High Complexity",
                                                class: "deepseek",
                                                info: [
                                                    {
                                                        label: "üì• Input:",
                                                        value: "Seeded with 1k CoT examples(``<think>``) followed by self-generated responses"
                                                    },
                                                    {
                                                        label: "üîÑ Process:",
                                                        value: "Multi-stage (Coldstart CoT ‚Üí GRPO with Rule based verfication ‚Üí Post Alignment)"
                                                    },
                                                    {
                                                        label: "‚úÖ Pros:",
                                                        value: "Improved reasoning capabilities, better at math and coding"
                                                    },
                                                    {
                                                        label: "‚ùå Cons:",
                                                        value: "CoT dataset preparation and reward verification quality"
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        id: "production",
                        title: "üöÄ Phase 3: Production & Deployment",
                        badge: {
                            text: "Live System",
                            class: "production"
                        },
                        info: [
                            {
                                label: "üì• Input:",
                                value: "Aligned model from chosen method ‚Üí Safety Guardrails & Red Teaming ‚Üí Quantization & Distillation as needed"
                            },
                            {
                                label: "üì§ Output:",
                                value: "Production-ready LLM"
                            },
                            {
                                label: "üîÑ Ongoing:",
                                value: "Evaluation, monitoring, updates"
                            }
                        ]
                    }
                ]
            },

            // Timeline Configuration
            timeline: {
                title: "üìÖ Evolution Timeline",
                items: [
                    {
                        year: "2018",
                        content: "<b>Task-Specific Fine-tuning</b>: <i>BERT, GPT</i>"
                    },
                    {
                        year: "2019",
                        content: "<b>Large-Scale Pre-training</b>: <i>GPT-2, T5</i>"
                    },
                    {
                        year: "2021",
                        content: "<b>Instruction Tuning (SFT)</b>: <i> FLAN, Instruct-GPT</i>"
                    },
                    {
                        year: "2022",
                        content: "<b>RLHF</b>: <i>GPT-3.5/ChatGPT, LLaMA</i>"
                    },
                    {
                        year: "2023",
                        content: "<b>DPO</b>: <i> LLaMA2, MS-Phi, GPT4, Gemini</i>"
                    },
                    {
                        year: "2024",
                        content: "<b>ORPO</b>: <i> Claude 3.5, LLaMA-3, GPT-4o</i>"
                    },
                    {
                        year: "2025",
                        content: "<b>GRPO</b>: <i>DeepSeek, Claude-4/Opus</i>"
                    }
                ]
            }
        };

        // Render Functions
        function renderHeader() {
            const headerSection = document.getElementById('header-section');
            const config = LLM_LIFECYCLE_CONFIG.header;
            
            headerSection.innerHTML = `
                <h1 class="gradient-title">${config.title}</h1>
                <p class="subtitle">${config.subtitle}</p>
                <button id="${config.themeToggle.id}" class="btn btn--outline btn--sm mt-8">${config.themeToggle.text}</button>
            `;
        }

        function renderSummary() {
            const summarySection = document.getElementById('summary-section');
            const config = LLM_LIFECYCLE_CONFIG.summary;
            
            let stagesHTML = '';
            config.stages.forEach((stage, index) => {
                if (stage.type === 'branch-group') {
                    stagesHTML += `
                        <div class="summary-branches">
                            <div class="branch-group">
                                ${stage.stages.map(s => `
                                    <div class="summary-stage" data-stage="${s.id}">
                                        <div class="summary-box">
                                            <span class="summary-icon">${s.icon}</span>
                                            <span class="summary-text">${s.text}</span>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                } else {
                    stagesHTML += `
                        <div class="summary-stage" data-stage="${stage.id}">
                            <div class="summary-box ${stage.special || ''}">
                                <span class="summary-icon">${stage.icon}</span>
                                <span class="summary-text">${stage.text}</span>
                            </div>
                        </div>
                    `;
                }
                
                if (index < config.stages.length - 1) {
                    stagesHTML += '<div class="summary-arrow">‚Üí</div>';
                }
            });
            
            summarySection.innerHTML = `
                <h2 class="section-title">${config.title}</h2>
                <div class="summary-diagram">
                    ${stagesHTML}
                </div>
            `;
        }

        function renderInfoRows(info) {
            return info.map(item => `
                <div class="info-row">
                    <span class="info-label">${item.label}</span>
                    <span class="info-value">${item.value}</span>
                </div>
            `).join('');
        }

        function renderAlignmentMethods(methods) {
            const tabsHTML = methods.map(method => `
                <button class="method-tab ${method.active ? 'active' : ''}" data-method="${method.id}">${method.name}</button>
            `).join('');

            const panelsHTML = methods.map(method => `
                <div class="method-panel ${method.active ? 'active' : ''}" id="${method.id}">
                    <div class="method-header">
                        <h6 class="method-name">${method.fullName}</h6>
                        <div class="method-badges">
                            <span class="year-badge ${method.yearClass || ''}">${method.year}</span>
                            <span class="complexity-badge ${method.complexity}">${method.complexityText}</span>
                        </div>
                    </div>
                    <div class="branch-card ${method.class}">
                        <div class="phase-info">
                            ${renderInfoRows(method.info)}
                        </div>
                    </div>
                </div>
            `).join('');

            return `
                <div class="alignment-methods">
                    <div class="method-tabs">
                        ${tabsHTML}
                    </div>
                    <div class="method-content">
                        ${panelsHTML}
                    </div>
                </div>
            `;
        }

        function renderPhases() {
            const phasesSection = document.getElementById('phases-section');
            const config = LLM_LIFECYCLE_CONFIG.phases;
            
            let phasesHTML = `<h2 class="section-title">${config.title}</h2>`;
            
            config.phases.forEach(phase => {
                phasesHTML += `
                    <div id="${phase.id}" class="phase-container">
                        <div class="phase-header">
                            <h3 class="phase-title">${phase.title}</h3>
                            <span class="phase-badge ${phase.badge.class}">${phase.badge.text}</span>
                        </div>
                        <div class="phase-content">
                `;

                if (phase.description) {
                    phasesHTML += `
                        <div class="branching-description">
                            <p>${phase.description}</p>
                        </div>
                    `;
                }

                if (phase.branches) {
                    phasesHTML += '<div class="branches-container">';
                    
                    phase.branches.forEach(branch => {
                        phasesHTML += `<div class="branch-path">`;
                        phasesHTML += `<h4 class="branch-title">${branch.title}</h4>`;
                        
                        if (branch.info) {
                            phasesHTML += `
                                <div class="branch-card ${branch.class}">
                                    <div class="phase-info">
                                        ${renderInfoRows(branch.info)}
                                    </div>
                                </div>
                            `;
                        }

                        if (branch.steps) {
                            branch.steps.forEach(step => {
                                phasesHTML += `
                                    <div class="instruction-step">
                                        <h5 class="step-title">${step.title}</h5>
                                `;
                                
                                if (step.info) {
                                    phasesHTML += `
                                        <div class="branch-card ${step.class}">
                                            <div class="phase-info">
                                                ${renderInfoRows(step.info)}
                                            </div>
                                        </div>
                                    `;
                                }

                                if (step.hasMethodTabs && step.methods) {
                                    phasesHTML += renderAlignmentMethods(step.methods);
                                }
                                
                                phasesHTML += '</div>';
                            });
                        }
                        
                        phasesHTML += '</div>';
                    });
                    
                    phasesHTML += '</div>';
                } else if (phase.info) {
                    phasesHTML += `
                        <div class="phase-card">
                            <div class="phase-info">
                                ${renderInfoRows(phase.info)}
                            </div>
                        </div>
                    `;
                }

                phasesHTML += `
                        </div>
                    </div>
                `;
            });
            
            phasesSection.innerHTML = phasesHTML;
        }

        function renderTimeline() {
            const timelineSection = document.getElementById('timeline-section');
            const config = LLM_LIFECYCLE_CONFIG.timeline;
            
            const timelineHTML = config.items.map(item => `
                <div class="timeline-item">
                    <div class="timeline-year">${item.year}</div>
                    <div class="timeline-content">${item.content}</div>
                </div>
            `).join('');
            
            timelineSection.innerHTML = `
                <h2 class="section-title">${config.title}</h2>
                <div class="timeline">
                    ${timelineHTML}
                </div>
            `;
        }

        // Event handlers for interactive elements
        function setupEventHandlers() {
            // Method tab switching
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('method-tab')) {
                    const methodId = e.target.getAttribute('data-method');
                    const parentContainer = e.target.closest('.alignment-methods');
                    
                    // Remove active class from all tabs and panels in this container
                    parentContainer.querySelectorAll('.method-tab').forEach(tab => tab.classList.remove('active'));
                    parentContainer.querySelectorAll('.method-panel').forEach(panel => panel.classList.remove('active'));
                    
                    // Add active class to clicked tab and corresponding panel
                    e.target.classList.add('active');
                    parentContainer.querySelector(`#${methodId}`).classList.add('active');
                }

                // Theme toggle (if you have the theme toggle functionality)
                if (e.target.id === 'themeToggle') {
                    // Add your theme toggle logic here
                    console.log('Theme toggle clicked');
                }
            });
        }

        // Initialize the page
        function init() {
            renderHeader();
            renderSummary();
            renderPhases();
            renderTimeline();
            setupEventHandlers();
        }

        // Load the page when DOM is ready
        document.addEventListener('DOMContentLoaded', init);
    </script>
    <script src="app_1.js"></script>
</body>
</html>